<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BungesNet - Learn to Code</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        .typing-animation {
            border-right: 3px solid #10b981;
            animation: blink 1s infinite;
        }
        
        .typing-cursor {
            border-right: 2px solid #10b981;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { border-color: #10b981; }
            51%, 100% { border-color: transparent; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        
        .language-card:hover {
            transform: translateY(-5px);
            transition: transform 0.3s ease;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 min-h-screen text-white">
    <!-- Header -->
    <header class="bg-black bg-opacity-30 backdrop-blur-sm p-4">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <h1 id="logo" class="text-3xl font-bold text-green-400 typing-animation"></h1>
            </div>
            <div class="flex space-x-4">
                <a href="https://www.instagram.com/_nynoah_?igsh=MXd2b3lueHQ3b3R4bg==" target="_blank" rel="noopener noreferrer" class="bg-pink-600 hover:bg-pink-700 px-4 py-2 rounded-lg transition-colors">
                    Owner's Instagram
                </a>
                <a href="https://www.instagram.com/bugersnetofficial?igsh=MzJ3YThpNW9tOXBr" target="_blank" rel="noopener noreferrer" class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition-colors">
                    Community Instagram
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <!-- Kali Linux Intro Screen -->
        <div id="kaliIntroScreen" class="flex justify-center items-center min-h-screen">
            <div class="bg-black border-2 border-gray-600 rounded-lg shadow-2xl w-full max-w-4xl">
                <!-- Terminal Header -->
                <div class="bg-gray-800 px-4 py-2 rounded-t-lg flex items-center space-x-2">
                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    <span class="text-gray-300 text-sm ml-4">kali@bugersnet:~$</span>
                </div>
                
                <!-- Terminal Content -->
                <div class="p-6 font-mono text-green-400 bg-black rounded-b-lg" style="min-height: 400px;">
                    <div class="mb-4">
                        <span class="text-blue-400">┌──(</span><span class="text-red-400">kali㉿bugersnet</span><span class="text-blue-400">)-[</span><span class="text-white">~</span><span class="text-blue-400">]</span>
                    </div>
                    <div class="mb-2">
                        <span class="text-blue-400">└─</span><span class="text-red-400">$</span> <span id="terminalCommand" class="typing-cursor"></span>
                    </div>
                    <div id="terminalOutput" class="mt-4 space-y-2 hidden">
                        <div class="text-green-400">Initializing BugersNet Learning Platform...</div>
                        <div class="text-yellow-400">Loading programming modules: C++, HTML, Python, Java, JavaScript</div>
                        <div class="text-blue-400">Setting up 100 levels with 20 questions each...</div>
                        <div class="text-purple-400">Configuring test environment...</div>
                        <div class="text-green-400">✓ System ready!</div>
                        <div class="text-white mt-4">Welcome to BugersNet - Your coding education platform</div>
                        <div class="text-gray-400">Press ENTER to continue...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="text-center fade-in hidden">
            <h2 class="text-5xl font-bold mb-6 bg-gradient-to-r from-green-400 to-blue-500 bg-clip-text text-transparent">
                Welcome to BugersNet
            </h2>
            <p class="text-xl mb-8 text-gray-300">Learn programming languages step by step, just like Duolingo!</p>
            <button onclick="showLanguageSelection()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-xl text-xl transition-colors transform hover:scale-105">
                Start Learning
            </button>
        </div>

        <!-- Language Selection -->
        <div id="languageSelection" class="hidden fade-in">
            <h2 class="text-4xl font-bold text-center mb-8">Choose Your Programming Language</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-4xl mx-auto">
                <div class="language-card bg-blue-600 hover:bg-blue-700 p-6 rounded-xl cursor-pointer transition-all" onclick="selectLanguage('cpp')">
                    <h3 class="text-2xl font-bold mb-2">C++</h3>
                    <p class="text-blue-200">Master object-oriented programming</p>
                </div>
                <div class="language-card bg-orange-600 hover:bg-orange-700 p-6 rounded-xl cursor-pointer transition-all" onclick="selectLanguage('html')">
                    <h3 class="text-2xl font-bold mb-2">HTML</h3>
                    <p class="text-orange-200">Build web page structures</p>
                </div>
                <div class="language-card bg-yellow-600 hover:bg-yellow-700 p-6 rounded-xl cursor-pointer transition-all" onclick="selectLanguage('python')">
                    <h3 class="text-2xl font-bold mb-2">Python</h3>
                    <p class="text-yellow-200">Learn programming fundamentals</p>
                </div>
                <div class="language-card bg-red-600 hover:bg-red-700 p-6 rounded-xl cursor-pointer transition-all" onclick="selectLanguage('java')">
                    <h3 class="text-2xl font-bold mb-2">Java</h3>
                    <p class="text-red-200">Enterprise application development</p>
                </div>
                <div class="language-card bg-purple-600 hover:bg-purple-700 p-6 rounded-xl cursor-pointer transition-all" onclick="selectLanguage('javascript')">
                    <h3 class="text-2xl font-bold mb-2">JavaScript</h3>
                    <p class="text-purple-200">Interactive web development</p>
                </div>
            </div>
        </div>

        <!-- Level Selection -->
        <div id="levelSelection" class="hidden fade-in">
            <div class="flex justify-between items-center mb-8">
                <button onclick="showLanguageSelection()" class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg">← Back</button>
                <h2 id="languageTitle" class="text-3xl font-bold"></h2>
                <div class="text-right">
                    <p class="text-sm text-gray-300">Progress</p>
                    <p id="overallProgress" class="text-lg font-bold">0/100 Levels</p>
                </div>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 max-w-6xl mx-auto" id="levelGrid">
                <!-- Levels will be generated here -->
            </div>
        </div>

        <!-- Learning Screen -->
        <div id="learningScreen" class="hidden fade-in">
            <div class="max-w-4xl mx-auto">
                <!-- Progress Bar -->
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <button onclick="showLevelSelection()" class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg">← Back</button>
                        <span id="questionProgress" class="text-lg font-semibold">Question 1/20</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-3">
                        <div id="progressBar" class="progress-bar bg-green-500 h-3 rounded-full" style="width: 5%"></div>
                    </div>
                </div>

                <!-- Question Card -->
                <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-8 mb-6">
                    <h3 id="questionTitle" class="text-2xl font-bold mb-4"></h3>
                    <p id="questionText" class="text-lg mb-6"></p>
                    <div id="answerOptions" class="space-y-3">
                        <!-- Answer options will be generated here -->
                    </div>
                </div>

                <!-- Navigation -->
                <div class="flex justify-between">
                    <button id="prevBtn" onclick="previousQuestion()" class="bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg disabled:opacity-50" disabled>Previous</button>
                    <button id="nextBtn" onclick="nextQuestion()" class="bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg disabled:opacity-50" disabled>Next</button>
                </div>
            </div>
        </div>

        <!-- Test Screen -->
        <div id="testScreen" class="hidden fade-in">
            <div class="max-w-4xl mx-auto">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-4">Level Test</h2>
                    <p class="text-lg text-gray-300">Answer these questions to test your knowledge!</p>
                    <div class="mt-4">
                        <span id="testProgress" class="text-lg font-semibold">Question 1/5</span>
                    </div>
                </div>

                <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-8 mb-6">
                    <h3 id="testQuestionTitle" class="text-xl font-bold mb-4"></h3>
                    <p id="testQuestionText" class="text-lg mb-6"></p>
                    <div id="testAnswerOptions" class="space-y-3">
                        <!-- Test answer options will be generated here -->
                    </div>
                </div>

                <div class="flex justify-between">
                    <button id="testPrevBtn" onclick="previousTestQuestion()" class="bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg disabled:opacity-50" disabled>Previous</button>
                    <button id="testNextBtn" onclick="nextTestQuestion()" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg disabled:opacity-50" disabled>Next</button>
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="hidden fade-in">
            <div class="max-w-2xl mx-auto text-center">
                <h2 class="text-4xl font-bold mb-6">Test Results</h2>
                <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-8 mb-6">
                    <div id="scoreDisplay" class="text-6xl font-bold mb-4 text-green-400"></div>
                    <p id="scoreText" class="text-xl mb-6"></p>
                    <div id="detailedResults" class="text-left space-y-2">
                        <!-- Detailed results will be shown here -->
                    </div>
                </div>
                <div class="space-x-4">
                    <button onclick="retakeTest()" class="bg-yellow-600 hover:bg-yellow-700 px-6 py-3 rounded-lg">Retake Test</button>
                    <button onclick="nextLevel()" class="bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg">Next Level</button>
                    <button onclick="showLevelSelection()" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg">Level Selection</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentLanguage = '';
        let currentLevel = 1;
        let currentQuestion = 0;
        let currentTestQuestion = 0;
        let userAnswers = [];
        let testAnswers = [];
        let userProgress = {};

        // Typing animation for logo
        function typeWriter() {
            const text = "BugersNet";
            const logo = document.getElementById('logo');
            let i = 0;
            
            function type() {
                if (i < text.length) {
                    logo.textContent += text.charAt(i);
                    i++;
                    setTimeout(type, 150);
                }
            }
            type();
        }

        // Terminal typing animation
        function typeTerminalCommand() {
            const command = "sudo kali linux native";
            const terminalCommand = document.getElementById('terminalCommand');
            let i = 0;
            
            function type() {
                if (i < command.length) {
                    terminalCommand.textContent += command.charAt(i);
                    i++;
                    setTimeout(type, 100);
                } else {
                    setTimeout(() => {
                        showTerminalOutput();
                    }, 1000);
                }
            }
            type();
        }

        function showTerminalOutput() {
            document.getElementById('terminalOutput').classList.remove('hidden');
            setTimeout(() => {
                document.addEventListener('keydown', function(event) {
                    if (event.key === 'Enter') {
                        showWelcomeScreen();
                    }
                });
                // Also allow clicking to continue
                document.getElementById('kaliIntroScreen').addEventListener('click', showWelcomeScreen);
            }, 3000);
        }

        function showWelcomeScreen() {
            document.getElementById('kaliIntroScreen').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
        }

        // Initialize the app
        window.onload = function() {
            typeWriter();
            loadProgress();
            setTimeout(typeTerminalCommand, 2000);
        };

        // Sample questions database
        const questionsDB = {
            cpp: {
                1: [
                    {
                        title: "C++ Basics - Variables",
                        question: "Which keyword is used to declare a variable in C++?",
                        options: ["var", "int", "declare", "variable"],
                        correct: 1,
                        explanation: "In C++, 'int' is used to declare integer variables."
                    },
                    {
                        title: "C++ Basics - Output",
                        question: "What is used to output text in C++?",
                        options: ["print()", "cout", "echo", "output"],
                        correct: 1,
                        explanation: "'cout' is the standard output stream in C++."
                    },
                    {
                        title: "C++ Basics - Headers",
                        question: "Which header file is needed for input/output operations?",
                        options: ["<stdio.h>", "<iostream>", "<string.h>", "<math.h>"],
                        correct: 1,
                        explanation: "<iostream> provides input/output stream functionality."
                    },
                    {
                        title: "C++ Basics - Main Function",
                        question: "What is the return type of the main function?",
                        options: ["void", "int", "char", "float"],
                        correct: 1,
                        explanation: "The main function typically returns an int value."
                    },
                    {
                        title: "C++ Basics - Comments",
                        question: "How do you write a single-line comment in C++?",
                        options: ["/* comment */", "// comment", "# comment", "<!-- comment -->"],
                        correct: 1,
                        explanation: "// is used for single-line comments in C++."
                    },
                    {
                        title: "C++ Basics - Semicolon",
                        question: "What character ends most statements in C++?",
                        options: [".", ",", ";", ":"],
                        correct: 2,
                        explanation: "Semicolon (;) terminates most statements in C++."
                    },
                    {
                        title: "C++ Basics - Namespace",
                        question: "Which namespace contains cout and cin?",
                        options: ["system", "std", "io", "stream"],
                        correct: 1,
                        explanation: "std namespace contains standard C++ library functions."
                    },
                    {
                        title: "C++ Basics - Input",
                        question: "What is used to get input from user in C++?",
                        options: ["input", "cin", "get", "read"],
                        correct: 1,
                        explanation: "'cin' is used for standard input in C++."
                    },
                    {
                        title: "C++ Basics - Data Types",
                        question: "Which data type stores decimal numbers?",
                        options: ["int", "char", "float", "bool"],
                        correct: 2,
                        explanation: "'float' stores floating-point (decimal) numbers."
                    },
                    {
                        title: "C++ Basics - Boolean",
                        question: "Which data type stores true/false values?",
                        options: ["int", "bool", "char", "string"],
                        correct: 1,
                        explanation: "'bool' stores boolean (true/false) values."
                    },
                    {
                        title: "C++ Basics - String",
                        question: "How do you declare a string variable?",
                        options: ["str name", "string name", "text name", "char name"],
                        correct: 1,
                        explanation: "'string' is used to declare string variables."
                    },
                    {
                        title: "C++ Basics - Constants",
                        question: "Which keyword makes a variable constant?",
                        options: ["final", "const", "static", "readonly"],
                        correct: 1,
                        explanation: "'const' keyword makes variables constant."
                    },
                    {
                        title: "C++ Basics - Operators",
                        question: "What operator is used for assignment?",
                        options: ["==", "=", "!=", "+="],
                        correct: 1,
                        explanation: "= is the assignment operator in C++."
                    },
                    {
                        title: "C++ Basics - Comparison",
                        question: "What operator checks if two values are equal?",
                        options: ["=", "==", "!=", "<="],
                        correct: 1,
                        explanation: "== is the equality comparison operator."
                    },
                    {
                        title: "C++ Basics - Increment",
                        question: "What operator increases a variable by 1?",
                        options: ["++", "--", "+=", "*="],
                        correct: 0,
                        explanation: "++ is the increment operator."
                    },
                    {
                        title: "C++ Basics - If Statement",
                        question: "Which keyword starts a conditional statement?",
                        options: ["when", "if", "check", "condition"],
                        correct: 1,
                        explanation: "'if' keyword starts conditional statements."
                    },
                    {
                        title: "C++ Basics - Loops",
                        question: "Which loop runs a specific number of times?",
                        options: ["while", "for", "do-while", "repeat"],
                        correct: 1,
                        explanation: "'for' loops are typically used for a specific number of iterations."
                    },
                    {
                        title: "C++ Basics - Arrays",
                        question: "How do you declare an array of 5 integers?",
                        options: ["int arr[5]", "array int[5]", "int[5] arr", "integer arr[5]"],
                        correct: 0,
                        explanation: "int arr[5] declares an array of 5 integers."
                    },
                    {
                        title: "C++ Basics - Functions",
                        question: "What keyword is used to define a function?",
                        options: ["function", "def", "void", "method"],
                        correct: 2,
                        explanation: "Functions can be defined with return types like 'void'."
                    },
                    {
                        title: "C++ Basics - Braces",
                        question: "What symbols define code blocks in C++?",
                        options: ["()", "[]", "{}", "< >"],
                        correct: 2,
                        explanation: "Curly braces {} define code blocks in C++."
                    }
                ]
            },
            html: {
                1: [
                    {
                        title: "HTML Basics - Structure",
                        question: "What does HTML stand for?",
                        options: ["Hyper Text Markup Language", "High Tech Modern Language", "Home Tool Markup Language", "Hyperlink and Text Markup Language"],
                        correct: 0,
                        explanation: "HTML stands for Hyper Text Markup Language."
                    },
                    {
                        title: "HTML Basics - Document Type",
                        question: "Which declaration defines an HTML5 document?",
                        options: ["<html>", "<!DOCTYPE html>", "<html5>", "<!HTML5>"],
                        correct: 1,
                        explanation: "<!DOCTYPE html> declares an HTML5 document."
                    },
                    {
                        title: "HTML Basics - Root Element",
                        question: "What is the root element of an HTML page?",
                        options: ["<body>", "<head>", "<html>", "<document>"],
                        correct: 2,
                        explanation: "<html> is the root element of an HTML page."
                    },
                    {
                        title: "HTML Basics - Head Section",
                        question: "What goes in the <head> section?",
                        options: ["Visible content", "Metadata", "Images", "Links"],
                        correct: 1,
                        explanation: "The <head> section contains metadata about the document."
                    },
                    {
                        title: "HTML Basics - Title",
                        question: "Which tag sets the page title?",
                        options: ["<title>", "<header>", "<h1>", "<name>"],
                        correct: 0,
                        explanation: "<title> tag sets the page title shown in browser tabs."
                    },
                    {
                        title: "HTML Basics - Body",
                        question: "Where does visible content go?",
                        options: ["<head>", "<body>", "<html>", "<content>"],
                        correct: 1,
                        explanation: "Visible content goes in the <body> section."
                    },
                    {
                        title: "HTML Basics - Headings",
                        question: "Which is the largest heading tag?",
                        options: ["<h6>", "<h3>", "<h1>", "<header>"],
                        correct: 2,
                        explanation: "<h1> is the largest heading tag."
                    },
                    {
                        title: "HTML Basics - Paragraphs",
                        question: "Which tag creates a paragraph?",
                        options: ["<p>", "<para>", "<paragraph>", "<text>"],
                        correct: 0,
                        explanation: "<p> tag creates paragraphs."
                    },
                    {
                        title: "HTML Basics - Links",
                        question: "Which tag creates hyperlinks?",
                        options: ["<link>", "<a>", "<href>", "<url>"],
                        correct: 1,
                        explanation: "<a> tag creates hyperlinks."
                    },
                    {
                        title: "HTML Basics - Images",
                        question: "Which tag displays images?",
                        options: ["<image>", "<img>", "<pic>", "<photo>"],
                        correct: 1,
                        explanation: "<img> tag displays images."
                    },
                    {
                        title: "HTML Basics - Lists",
                        question: "Which tag creates an unordered list?",
                        options: ["<ol>", "<ul>", "<list>", "<li>"],
                        correct: 1,
                        explanation: "<ul> creates unordered (bulleted) lists."
                    },
                    {
                        title: "HTML Basics - List Items",
                        question: "Which tag creates list items?",
                        options: ["<item>", "<li>", "<list-item>", "<bullet>"],
                        correct: 1,
                        explanation: "<li> creates individual list items."
                    },
                    {
                        title: "HTML Basics - Tables",
                        question: "Which tag creates a table?",
                        options: ["<table>", "<tab>", "<grid>", "<data>"],
                        correct: 0,
                        explanation: "<table> tag creates tables."
                    },
                    {
                        title: "HTML Basics - Table Rows",
                        question: "Which tag creates table rows?",
                        options: ["<row>", "<tr>", "<table-row>", "<td>"],
                        correct: 1,
                        explanation: "<tr> creates table rows."
                    },
                    {
                        title: "HTML Basics - Table Data",
                        question: "Which tag creates table cells?",
                        options: ["<cell>", "<tc>", "<td>", "<data>"],
                        correct: 2,
                        explanation: "<td> creates table data cells."
                    },
                    {
                        title: "HTML Basics - Forms",
                        question: "Which tag creates forms?",
                        options: ["<form>", "<input-form>", "<user-form>", "<data-form>"],
                        correct: 0,
                        explanation: "<form> tag creates forms for user input."
                    },
                    {
                        title: "HTML Basics - Input",
                        question: "Which tag creates input fields?",
                        options: ["<field>", "<input>", "<textbox>", "<entry>"],
                        correct: 1,
                        explanation: "<input> tag creates various input fields."
                    },
                    {
                        title: "HTML Basics - Buttons",
                        question: "Which tag creates buttons?",
                        options: ["<btn>", "<click>", "<button>", "<press>"],
                        correct: 2,
                        explanation: "<button> tag creates clickable buttons."
                    },
                    {
                        title: "HTML Basics - Divisions",
                        question: "Which tag creates divisions/containers?",
                        options: ["<div>", "<container>", "<section>", "<box>"],
                        correct: 0,
                        explanation: "<div> creates divisions or containers for grouping content."
                    },
                    {
                        title: "HTML Basics - Attributes",
                        question: "What provides additional information about HTML elements?",
                        options: ["Tags", "Attributes", "Values", "Properties"],
                        correct: 1,
                        explanation: "Attributes provide additional information about HTML elements."
                    }
                ]
            },
            python: {
                1: [
                    {
                        title: "Python Basics - Print",
                        question: "How do you output text in Python?",
                        options: ["echo()", "print()", "output()", "display()"],
                        correct: 1,
                        explanation: "print() function outputs text in Python."
                    },
                    {
                        title: "Python Basics - Variables",
                        question: "How do you create a variable in Python?",
                        options: ["var x = 5", "x = 5", "int x = 5", "create x = 5"],
                        correct: 1,
                        explanation: "Variables are created by simply assigning values: x = 5"
                    },
                    {
                        title: "Python Basics - Comments",
                        question: "How do you write comments in Python?",
                        options: ["// comment", "/* comment */", "# comment", "<!-- comment -->"],
                        correct: 2,
                        explanation: "# is used for comments in Python."
                    },
                    {
                        title: "Python Basics - Strings",
                        question: "How do you create a string in Python?",
                        options: ["'Hello'", "string('Hello')", "str = Hello", "text('Hello')"],
                        correct: 0,
                        explanation: "Strings are created with quotes: 'Hello' or \"Hello\""
                    },
                    {
                        title: "Python Basics - Input",
                        question: "How do you get user input in Python?",
                        options: ["get()", "input()", "read()", "scan()"],
                        correct: 1,
                        explanation: "input() function gets user input in Python."
                    },
                    {
                        title: "Python Basics - Data Types",
                        question: "Which function shows the data type of a variable?",
                        options: ["typeof()", "type()", "datatype()", "class()"],
                        correct: 1,
                        explanation: "type() function shows the data type of a variable."
                    },
                    {
                        title: "Python Basics - Lists",
                        question: "How do you create a list in Python?",
                        options: ["list = (1,2,3)", "list = [1,2,3]", "list = {1,2,3}", "list = <1,2,3>"],
                        correct: 1,
                        explanation: "Lists are created with square brackets: [1,2,3]"
                    },
                    {
                        title: "Python Basics - If Statement",
                        question: "What symbol ends an if statement line in Python?",
                        options: [";", "{", ":", ")"],
                        correct: 2,
                        explanation: "Colon (:) ends if statement lines in Python."
                    },
                    {
                        title: "Python Basics - Indentation",
                        question: "How does Python define code blocks?",
                        options: ["Curly braces {}", "Parentheses ()", "Indentation", "Semicolons ;"],
                        correct: 2,
                        explanation: "Python uses indentation to define code blocks."
                    },
                    {
                        title: "Python Basics - For Loop",
                        question: "How do you loop through a list in Python?",
                        options: ["for i in list:", "for (i in list):", "foreach i in list:", "loop i in list:"],
                        correct: 0,
                        explanation: "'for i in list:' loops through a list in Python."
                    },
                    {
                        title: "Python Basics - Functions",
                        question: "How do you define a function in Python?",
                        options: ["function name():", "def name():", "create name():", "func name():"],
                        correct: 1,
                        explanation: "'def' keyword defines functions in Python."
                    },
                    {
                        title: "Python Basics - Return",
                        question: "What keyword returns a value from a function?",
                        options: ["give", "return", "send", "output"],
                        correct: 1,
                        explanation: "'return' keyword returns values from functions."
                    },
                    {
                        title: "Python Basics - Dictionaries",
                        question: "How do you create a dictionary in Python?",
                        options: ["dict = [key:value]", "dict = {key:value}", "dict = (key:value)", "dict = <key:value>"],
                        correct: 1,
                        explanation: "Dictionaries use curly braces: {key:value}"
                    },
                    {
                        title: "Python Basics - Boolean",
                        question: "What are the boolean values in Python?",
                        options: ["true, false", "True, False", "TRUE, FALSE", "1, 0"],
                        correct: 1,
                        explanation: "Boolean values are True and False (capitalized)."
                    },
                    {
                        title: "Python Basics - Comparison",
                        question: "What operator checks equality in Python?",
                        options: ["=", "==", "!=", "is"],
                        correct: 1,
                        explanation: "== operator checks equality in Python."
                    },
                    {
                        title: "Python Basics - Length",
                        question: "How do you find the length of a list?",
                        options: ["length(list)", "len(list)", "size(list)", "count(list)"],
                        correct: 1,
                        explanation: "len() function returns the length of a list."
                    },
                    {
                        title: "Python Basics - Append",
                        question: "How do you add an item to a list?",
                        options: ["list.add(item)", "list.append(item)", "list.insert(item)", "list.push(item)"],
                        correct: 1,
                        explanation: "append() method adds items to the end of a list."
                    },
                    {
                        title: "Python Basics - While Loop",
                        question: "What keyword starts a while loop?",
                        options: ["loop", "while", "repeat", "continue"],
                        correct: 1,
                        explanation: "'while' keyword starts while loops in Python."
                    },
                    {
                        title: "Python Basics - Import",
                        question: "How do you import a module in Python?",
                        options: ["include module", "import module", "use module", "require module"],
                        correct: 1,
                        explanation: "'import' keyword imports modules in Python."
                    },
                    {
                        title: "Python Basics - Else",
                        question: "What keyword provides an alternative in if statements?",
                        options: ["otherwise", "else", "alternative", "or"],
                        correct: 1,
                        explanation: "'else' provides alternatives in if statements."
                    }
                ]
            },
            java: {
                1: [
                    {
                        title: "Java Basics - Class Declaration",
                        question: "How do you declare a class in Java?",
                        options: ["class MyClass {}", "Class MyClass {}", "public MyClass {}", "create MyClass {}"],
                        correct: 0,
                        explanation: "'class' keyword declares classes in Java."
                    },
                    {
                        title: "Java Basics - Main Method",
                        question: "What is the correct main method signature?",
                        options: ["public static void main(String args[])", "public void main(String args[])", "static void main(String args[])", "public main(String args[])"],
                        correct: 0,
                        explanation: "Main method must be public static void main(String args[])"
                    },
                    {
                        title: "Java Basics - Output",
                        question: "How do you print text in Java?",
                        options: ["print()", "System.out.println()", "console.log()", "output()"],
                        correct: 1,
                        explanation: "System.out.println() prints text in Java."
                    },
                    {
                        title: "Java Basics - Variables",
                        question: "How do you declare an integer variable?",
                        options: ["int x;", "integer x;", "var x;", "number x;"],
                        correct: 0,
                        explanation: "'int' declares integer variables in Java."
                    },
                    {
                        title: "Java Basics - Comments",
                        question: "How do you write single-line comments in Java?",
                        options: ["# comment", "// comment", "/* comment */", "<!-- comment -->"],
                        correct: 1,
                        explanation: "// creates single-line comments in Java."
                    },
                    {
                        title: "Java Basics - String Declaration",
                        question: "How do you declare a String variable?",
                        options: ["string name;", "String name;", "text name;", "str name;"],
                        correct: 1,
                        explanation: "'String' (capitalized) declares string variables."
                    },
                    {
                        title: "Java Basics - Access Modifiers",
                        question: "Which access modifier makes a method accessible everywhere?",
                        options: ["private", "protected", "public", "default"],
                        correct: 2,
                        explanation: "'public' makes methods accessible from anywhere."
                    },
                    {
                        title: "Java Basics - Method Declaration",
                        question: "How do you declare a method in Java?",
                        options: ["public void methodName() {}", "method methodName() {}", "function methodName() {}", "def methodName() {}"],
                        correct: 0,
                        explanation: "Methods are declared with access modifier, return type, and name."
                    },
                    {
                        title: "Java Basics - Arrays",
                        question: "How do you declare an array of integers?",
                        options: ["int[] arr;", "array int arr;", "int arr[];", "Both A and C"],
                        correct: 3,
                        explanation: "Both int[] arr; and int arr[]; are valid array declarations."
                    },
                    {
                        title: "Java Basics - If Statement",
                        question: "What is the correct if statement syntax?",
                        options: ["if (condition) {}", "if condition {}", "if (condition):", "if condition:"],
                        correct: 0,
                        explanation: "If statements use parentheses and curly braces: if (condition) {}"
                    },
                    {
                        title: "Java Basics - For Loop",
                        question: "What is the correct for loop syntax?",
                        options: ["for (int i=0; i<10; i++) {}", "for i in range(10) {}", "for (i=0; i<10; i++) {}", "for int i=0; i<10; i++ {}"],
                        correct: 0,
                        explanation: "For loops: for (initialization; condition; increment) {}"
                    },
                    {
                        title: "Java Basics - While Loop",
                        question: "What is the correct while loop syntax?",
                        options: ["while condition {}", "while (condition) {}", "while condition:", "while (condition):"],
                        correct: 1,
                        explanation: "While loops use parentheses: while (condition) {}"
                    },
                    {
                        title: "Java Basics - Constants",
                        question: "How do you declare a constant in Java?",
                        options: ["const int X = 5;", "final int X = 5;", "constant int X = 5;", "static int X = 5;"],
                        correct: 1,
                        explanation: "'final' keyword creates constants in Java."
                    },
                    {
                        title: "Java Basics - Constructor",
                        question: "What is a constructor in Java?",
                        options: ["A method that returns a value", "A special method to initialize objects", "A method to destroy objects", "A static method"],
                        correct: 1,
                        explanation: "Constructors are special methods that initialize objects."
                    },
                    {
                        title: "Java Basics - Object Creation",
                        question: "How do you create an object in Java?",
                        options: ["MyClass obj = MyClass();", "MyClass obj = new MyClass();", "obj = MyClass();", "create MyClass obj;"],
                        correct: 1,
                        explanation: "'new' keyword creates objects: MyClass obj = new MyClass();"
                    },
                    {
                        title: "Java Basics - Inheritance",
                        question: "Which keyword is used for inheritance?",
                        options: ["inherits", "extends", "implements", "derives"],
                        correct: 1,
                        explanation: "'extends' keyword is used for class inheritance."
                    },
                    {
                        title: "Java Basics - Package",
                        question: "How do you declare a package?",
                        options: ["package com.example;", "import com.example;", "namespace com.example;", "using com.example;"],
                        correct: 0,
                        explanation: "'package' keyword declares packages in Java."
                    },
                    {
                        title: "Java Basics - Import",
                        question: "How do you import a class?",
                        options: ["include java.util.Scanner;", "import java.util.Scanner;", "using java.util.Scanner;", "require java.util.Scanner;"],
                        correct: 1,
                        explanation: "'import' keyword imports classes in Java."
                    },
                    {
                        title: "Java Basics - Static",
                        question: "What does the 'static' keyword mean?",
                        options: ["The method cannot change", "The method belongs to the class, not instance", "The method is private", "The method is final"],
                        correct: 1,
                        explanation: "'static' means the method belongs to the class, not instances."
                    },
                    {
                        title: "Java Basics - Return Type",
                        question: "What return type means no value is returned?",
                        options: ["null", "empty", "void", "none"],
                        correct: 2,
                        explanation: "'void' means the method returns no value."
                    }
                ]
            },
            javascript: {
                1: [
                    {
                        title: "JavaScript Basics - Variables",
                        question: "How do you declare a variable in modern JavaScript?",
                        options: ["var x", "let x", "const x", "Both B and C"],
                        correct: 3,
                        explanation: "Both 'let' and 'const' are modern ways to declare variables."
                    },
                    {
                        title: "JavaScript Basics - Output",
                        question: "How do you display output in JavaScript?",
                        options: ["print()", "console.log()", "echo()", "display()"],
                        correct: 1,
                        explanation: "console.log() displays output in JavaScript."
                    },
                    {
                        title: "JavaScript Basics - Comments",
                        question: "How do you write single-line comments?",
                        options: ["# comment", "// comment", "/* comment */", "<!-- comment -->"],
                        correct: 1,
                        explanation: "// creates single-line comments in JavaScript."
                    },
                    {
                        title: "JavaScript Basics - Functions",
                        question: "How do you declare a function?",
                        options: ["function myFunc() {}", "def myFunc() {}", "func myFunc() {}", "method myFunc() {}"],
                        correct: 0,
                        explanation: "'function' keyword declares functions in JavaScript."
                    },
                    {
                        title: "JavaScript Basics - Arrays",
                        question: "How do you create an array?",
                        options: ["let arr = (1,2,3)", "let arr = [1,2,3]", "let arr = {1,2,3}", "let arr = <1,2,3>"],
                        correct: 1,
                        explanation: "Arrays are created with square brackets: [1,2,3]"
                    },
                    {
                        title: "JavaScript Basics - Objects",
                        question: "How do you create an object?",
                        options: ["let obj = [name: 'John']", "let obj = {name: 'John'}", "let obj = (name: 'John')", "let obj = <name: 'John'>"],
                        correct: 1,
                        explanation: "Objects are created with curly braces: {name: 'John'}"
                    },
                    {
                        title: "JavaScript Basics - If Statement",
                        question: "What is the correct if statement syntax?",
                        options: ["if (condition) {}", "if condition {}", "if (condition):", "if condition:"],
                        correct: 0,
                        explanation: "If statements use parentheses: if (condition) {}"
                    },
                    {
                        title: "JavaScript Basics - For Loop",
                        question: "What is a correct for loop syntax?",
                        options: ["for (let i=0; i<10; i++) {}", "for i in range(10) {}", "for (i=0; i<10; i++) {}", "for let i=0; i<10; i++ {}"],
                        correct: 0,
                        explanation: "For loops: for (let i=0; i<10; i++) {}"
                    },
                    {
                        title: "JavaScript Basics - String Concatenation",
                        question: "How do you join strings in JavaScript?",
                        options: ["str1 . str2", "str1 + str2", "str1 & str2", "concat(str1, str2)"],
                        correct: 1,
                        explanation: "+ operator concatenates strings in JavaScript."
                    },
                    {
                        title: "JavaScript Basics - Comparison",
                        question: "What operator checks strict equality?",
                        options: ["=", "==", "===", "!="],
                        correct: 2,
                        explanation: "=== checks strict equality (value and type)."
                    },
                    {
                        title: "JavaScript Basics - DOM",
                        question: "How do you select an element by ID?",
                        options: ["document.getElementById()", "document.selectById()", "document.getElement()", "document.findById()"],
                        correct: 0,
                        explanation: "document.getElementById() selects elements by ID."
                    },
                    {
                        title: "JavaScript Basics - Events",
                        question: "How do you add a click event listener?",
                        options: ["element.onClick()", "element.addEventListener('click', function)", "element.addClick()", "element.onClickEvent()"],
                        correct: 1,
                        explanation: "addEventListener('click', function) adds click events."
                    },
                    {
                        title: "JavaScript Basics - Arrow Functions",
                        question: "What is the arrow function syntax?",
                        options: ["() -> {}", "() => {}", "() >> {}", "() >= {}"],
                        correct: 1,
                        explanation: "Arrow functions use => syntax: () => {}"
                    },
                    {
                        title: "JavaScript Basics - Template Literals",
                        question: "How do you create template literals?",
                        options: ["'Hello ${name}'", "\"Hello ${name}\"", "`Hello ${name}`", "'Hello ' + name"],
                        correct: 2,
                        explanation: "Template literals use backticks: `Hello ${name}`"
                    },
                    {
                        title: "JavaScript Basics - Const vs Let",
                        question: "What's the difference between const and let?",
                        options: ["No difference", "const cannot be reassigned", "let is global", "const is faster"],
                        correct: 1,
                        explanation: "'const' creates constants that cannot be reassigned."
                    },
                    {
                        title: "JavaScript Basics - Array Methods",
                        question: "How do you add an element to the end of an array?",
                        options: ["arr.add()", "arr.push()", "arr.append()", "arr.insert()"],
                        correct: 1,
                        explanation: "push() method adds elements to the end of arrays."
                    },
                    {
                        title: "JavaScript Basics - JSON",
                        question: "How do you convert an object to JSON?",
                        options: ["JSON.stringify()", "JSON.parse()", "object.toJSON()", "convert.JSON()"],
                        correct: 0,
                        explanation: "JSON.stringify() converts objects to JSON strings."
                    },
                    {
                        title: "JavaScript Basics - Undefined",
                        question: "What value does an uninitialized variable have?",
                        options: ["null", "undefined", "0", "empty"],
                        correct: 1,
                        explanation: "Uninitialized variables have the value 'undefined'."
                    },
                    {
                        title: "JavaScript Basics - Type Checking",
                        question: "How do you check the type of a variable?",
                        options: ["type(variable)", "typeof variable", "variable.type", "getType(variable)"],
                        correct: 1,
                        explanation: "'typeof' operator checks variable types."
                    },
                    {
                        title: "JavaScript Basics - Scope",
                        question: "What is the scope of variables declared with 'let'?",
                        options: ["Global", "Function", "Block", "Module"],
                        correct: 2,
                        explanation: "'let' creates block-scoped variables."
                    }
                ]
            }
        };

        // Test questions (subset of learning questions)
        const testQuestionsDB = {
            cpp: {
                1: [
                    {
                        question: "Which keyword is used to declare a variable in C++?",
                        options: ["var", "int", "declare", "variable"],
                        correct: 1
                    },
                    {
                        question: "What is used to output text in C++?",
                        options: ["print()", "cout", "echo", "output"],
                        correct: 1
                    },
                    {
                        question: "How do you write a single-line comment in C++?",
                        options: ["/* comment */", "// comment", "# comment", "<!-- comment -->"],
                        correct: 1
                    },
                    {
                        question: "What character ends most statements in C++?",
                        options: [".", ",", ";", ":"],
                        correct: 2
                    },
                    {
                        question: "Which data type stores true/false values?",
                        options: ["int", "bool", "char", "string"],
                        correct: 1
                    }
                ]
            },
            html: {
                1: [
                    {
                        question: "What does HTML stand for?",
                        options: ["Hyper Text Markup Language", "High Tech Modern Language", "Home Tool Markup Language", "Hyperlink and Text Markup Language"],
                        correct: 0
                    },
                    {
                        question: "Which declaration defines an HTML5 document?",
                        options: ["<html>", "<!DOCTYPE html>", "<html5>", "<!HTML5>"],
                        correct: 1
                    },
                    {
                        question: "Which is the largest heading tag?",
                        options: ["<h6>", "<h3>", "<h1>", "<header>"],
                        correct: 2
                    },
                    {
                        question: "Which tag creates hyperlinks?",
                        options: ["<link>", "<a>", "<href>", "<url>"],
                        correct: 1
                    },
                    {
                        question: "Which tag displays images?",
                        options: ["<image>", "<img>", "<pic>", "<photo>"],
                        correct: 1
                    }
                ]
            },
            python: {
                1: [
                    {
                        question: "How do you output text in Python?",
                        options: ["echo()", "print()", "output()", "display()"],
                        correct: 1
                    },
                    {
                        question: "How do you create a variable in Python?",
                        options: ["var x = 5", "x = 5", "int x = 5", "create x = 5"],
                        correct: 1
                    },
                    {
                        question: "How do you write comments in Python?",
                        options: ["// comment", "/* comment */", "# comment", "<!-- comment -->"],
                        correct: 2
                    },
                    {
                        question: "What symbol ends an if statement line in Python?",
                        options: [";", "{", ":", ")"],
                        correct: 2
                    },
                    {
                        question: "How does Python define code blocks?",
                        options: ["Curly braces {}", "Parentheses ()", "Indentation", "Semicolons ;"],
                        correct: 2
                    }
                ]
            },
            java: {
                1: [
                    {
                        question: "How do you print text in Java?",
                        options: ["print()", "System.out.println()", "console.log()", "output()"],
                        correct: 1
                    },
                    {
                        question: "How do you declare an integer variable?",
                        options: ["int x;", "integer x;", "var x;", "number x;"],
                        correct: 0
                    },
                    {
                        question: "Which access modifier makes a method accessible everywhere?",
                        options: ["private", "protected", "public", "default"],
                        correct: 2
                    },
                    {
                        question: "How do you create an object in Java?",
                        options: ["MyClass obj = MyClass();", "MyClass obj = new MyClass();", "obj = MyClass();", "create MyClass obj;"],
                        correct: 1
                    },
                    {
                        question: "What return type means no value is returned?",
                        options: ["null", "empty", "void", "none"],
                        correct: 2
                    }
                ]
            },
            javascript: {
                1: [
                    {
                        question: "How do you display output in JavaScript?",
                        options: ["print()", "console.log()", "echo()", "display()"],
                        correct: 1
                    },
                    {
                        question: "How do you declare a function?",
                        options: ["function myFunc() {}", "def myFunc() {}", "func myFunc() {}", "method myFunc() {}"],
                        correct: 0
                    },
                    {
                        question: "How do you create an array?",
                        options: ["let arr = (1,2,3)", "let arr = [1,2,3]", "let arr = {1,2,3}", "let arr = <1,2,3>"],
                        correct: 1
                    },
                    {
                        question: "What operator checks strict equality?",
                        options: ["=", "==", "===", "!="],
                        correct: 2
                    },
                    {
                        question: "How do you add an element to the end of an array?",
                        options: ["arr.add()", "arr.push()", "arr.append()", "arr.insert()"],
                        correct: 1
                    }
                ]
            }
        };

        // Navigation functions
        function showLanguageSelection() {
            hideAllScreens();
            document.getElementById('languageSelection').classList.remove('hidden');
        }

        function selectLanguage(language) {
            currentLanguage = language;
            showLevelSelection();
        }

        function showLevelSelection() {
            hideAllScreens();
            document.getElementById('levelSelection').classList.remove('hidden');
            
            const languageNames = {
                cpp: 'C++',
                html: 'HTML',
                python: 'Python',
                java: 'Java',
                javascript: 'JavaScript'
            };
            
            document.getElementById('languageTitle').textContent = languageNames[currentLanguage];
            generateLevelGrid();
            updateOverallProgress();
        }

        function generateLevelGrid() {
            const grid = document.getElementById('levelGrid');
            grid.innerHTML = '';
            
            for (let i = 1; i <= 100; i++) {
                const levelButton = document.createElement('button');
                levelButton.className = 'bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-4 rounded-lg transition-colors';
                levelButton.textContent = i;
                levelButton.onclick = () => startLevel(i);
                
                // Check if level is completed
                if (userProgress[currentLanguage] && userProgress[currentLanguage][i]) {
                    levelButton.className = 'bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-4 rounded-lg transition-colors';
                }
                
                grid.appendChild(levelButton);
            }
        }

        function startLevel(level) {
            currentLevel = level;
            currentQuestion = 0;
            userAnswers = [];
            showLearningScreen();
        }

        function showLearningScreen() {
            hideAllScreens();
            document.getElementById('learningScreen').classList.remove('hidden');
            displayQuestion();
        }

        function displayQuestion() {
            const questions = questionsDB[currentLanguage][currentLevel] || questionsDB[currentLanguage][1];
            const question = questions[currentQuestion];
            
            document.getElementById('questionProgress').textContent = `Question ${currentQuestion + 1}/20`;
            document.getElementById('progressBar').style.width = `${((currentQuestion + 1) / 20) * 100}%`;
            
            document.getElementById('questionTitle').textContent = question.title;
            document.getElementById('questionText').textContent = question.question;
            
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors';
                button.textContent = option;
                button.onclick = () => selectAnswer(index, button);
                optionsContainer.appendChild(button);
            });
            
            updateNavigationButtons();
        }

        function selectAnswer(answerIndex, button) {
            // Remove previous selections
            document.querySelectorAll('#answerOptions button').forEach(btn => {
                btn.classList.remove('bg-green-600', 'bg-red-600');
                btn.classList.add('bg-gray-700');
            });
            
            // Highlight selected answer
            button.classList.remove('bg-gray-700');
            button.classList.add('bg-blue-600');
            
            userAnswers[currentQuestion] = answerIndex;
            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            if (currentQuestion < 19) {
                currentQuestion++;
                displayQuestion();
            } else {
                startTest();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        function updateNavigationButtons() {
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').disabled = userAnswers[currentQuestion] === undefined;
            
            if (currentQuestion === 19) {
                document.getElementById('nextBtn').textContent = 'Take Test';
            } else {
                document.getElementById('nextBtn').textContent = 'Next';
            }
        }

        function startTest() {
            currentTestQuestion = 0;
            testAnswers = [];
            showTestScreen();
        }

        function showTestScreen() {
            hideAllScreens();
            document.getElementById('testScreen').classList.remove('hidden');
            displayTestQuestion();
        }

        function displayTestQuestion() {
            const testQuestions = testQuestionsDB[currentLanguage][currentLevel] || testQuestionsDB[currentLanguage][1];
            const question = testQuestions[currentTestQuestion];
            
            document.getElementById('testProgress').textContent = `Question ${currentTestQuestion + 1}/5`;
            document.getElementById('testQuestionTitle').textContent = `Test Question ${currentTestQuestion + 1}`;
            document.getElementById('testQuestionText').textContent = question.question;
            
            const optionsContainer = document.getElementById('testAnswerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors';
                button.textContent = option;
                button.onclick = () => selectTestAnswer(index, button);
                optionsContainer.appendChild(button);
            });
            
            updateTestNavigationButtons();
        }

        function selectTestAnswer(answerIndex, button) {
            // Remove previous selections
            document.querySelectorAll('#testAnswerOptions button').forEach(btn => {
                btn.classList.remove('bg-green-600', 'bg-red-600');
                btn.classList.add('bg-gray-700');
            });
            
            // Highlight selected answer
            button.classList.remove('bg-gray-700');
            button.classList.add('bg-blue-600');
            
            testAnswers[currentTestQuestion] = answerIndex;
            document.getElementById('testNextBtn').disabled = false;
        }

        function nextTestQuestion() {
            if (currentTestQuestion < 4) {
                currentTestQuestion++;
                displayTestQuestion();
            } else {
                showResults();
            }
        }

        function previousTestQuestion() {
            if (currentTestQuestion > 0) {
                currentTestQuestion--;
                displayTestQuestion();
            }
        }

        function updateTestNavigationButtons() {
            document.getElementById('testPrevBtn').disabled = currentTestQuestion === 0;
            document.getElementById('testNextBtn').disabled = testAnswers[currentTestQuestion] === undefined;
            
            if (currentTestQuestion === 4) {
                document.getElementById('testNextBtn').textContent = 'Finish Test';
            } else {
                document.getElementById('testNextBtn').textContent = 'Next';
            }
        }

        function showResults() {
            hideAllScreens();
            document.getElementById('resultsScreen').classList.remove('hidden');
            calculateResults();
        }

        function calculateResults() {
            const testQuestions = testQuestionsDB[currentLanguage][currentLevel] || testQuestionsDB[currentLanguage][1];
            let correctAnswers = 0;
            
            testAnswers.forEach((answer, index) => {
                if (answer === testQuestions[index].correct) {
                    correctAnswers++;
                }
            });
            
            const percentage = Math.round((correctAnswers / 5) * 100);
            
            document.getElementById('scoreDisplay').textContent = `${percentage}%`;
            document.getElementById('scoreText').textContent = `You got ${correctAnswers} out of 5 questions correct!`;
            
            // Show detailed results
            const detailedResults = document.getElementById('detailedResults');
            detailedResults.innerHTML = '<h4 class="font-bold mb-2">Detailed Results:</h4>';
            
            testAnswers.forEach((answer, index) => {
                const question = testQuestions[index];
                const isCorrect = answer === question.correct;
                const resultDiv = document.createElement('div');
                resultDiv.className = `p-2 rounded ${isCorrect ? 'bg-green-800' : 'bg-red-800'}`;
                resultDiv.innerHTML = `
                    <strong>Q${index + 1}:</strong> ${isCorrect ? '✓ Correct' : '✗ Wrong'}<br>
                    <small>${question.question}</small><br>
                    <small>Your answer: ${question.options[answer]} ${isCorrect ? '' : `| Correct: ${question.options[question.correct]}`}</small>
                `;
                detailedResults.appendChild(resultDiv);
            });
            
            // Save progress
            if (percentage >= 70) {
                saveProgress();
            }
        }

        function saveProgress() {
            if (!userProgress[currentLanguage]) {
                userProgress[currentLanguage] = {};
            }
            userProgress[currentLanguage][currentLevel] = true;
            localStorage.setItem('bugersnet_progress', JSON.stringify(userProgress));
        }

        function loadProgress() {
            const saved = localStorage.getItem('bugersnet_progress');
            if (saved) {
                userProgress = JSON.parse(saved);
            }
        }

        function updateOverallProgress() {
            if (userProgress[currentLanguage]) {
                const completed = Object.keys(userProgress[currentLanguage]).length;
                document.getElementById('overallProgress').textContent = `${completed}/100 Levels`;
            } else {
                document.getElementById('overallProgress').textContent = '0/100 Levels';
            }
        }

        function retakeTest() {
            startTest();
        }

        function nextLevel() {
            if (currentLevel < 100) {
                startLevel(currentLevel + 1);
            } else {
                showLevelSelection();
            }
        }

        function hideAllScreens() {
            document.getElementById('kaliIntroScreen').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('languageSelection').classList.add('hidden');
            document.getElementById('levelSelection').classList.add('hidden');
            document.getElementById('learningScreen').classList.add('hidden');
            document.getElementById('testScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.add('hidden');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98535d3353a63bec',t:'MTc1ODg5NjAyOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
